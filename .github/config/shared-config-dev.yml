# Development Environment Configuration
# This file contains development-specific values
# Loaded when WORKFLOW_PROTECTION_ENABLED != 'true'

# AWS Configuration - Development
aws:
  region: eu-west-1  # GDPR compliant region
  account_id: "${AWS_DEV_ACCOUNT_ID}"  # Set via environment variable
  ecr_registry: "${AWS_DEV_ACCOUNT_ID}.dkr.ecr.eu-west-1.amazonaws.com"
  environment: dev

# S3 Buckets - Development
s3:
  artifacts: "hht-diary-dev-artifacts-eu-west-1"
  # Per-sponsor buckets (runtime substitution)
  sponsor_bucket: "hht-diary-dev-${SPONSOR}-eu-west-1"
  backup_bucket: "hht-diary-dev-backups-${SPONSOR}-eu-west-1"
  retention_bucket: "hht-diary-dev-retention-${SPONSOR}-eu-west-1"

# Version Configuration
versions:
  node: "20"
  python: "3.11"
  flutter: "3.19.6"
  supabase_cli: "1.142.2"
  postgres: "15"
  docker: "24"

# Path Configuration
paths:
  artifacts: ".artifacts"
  coverage: "coverage"
  test_results: "test-results"
  audit_logs: "audit-logs"
  migrations: "database/migrations"
  rollbacks: "database/rollbacks"

# Timeout Configuration (in minutes)
timeouts:
  build: 30
  test: 45
  deploy: 30
  migration: 10
  rollback: 5
  default: 20

# Retention Configuration (in days) - Shorter for dev
retention:
  artifacts: 7      # 1 week in dev
  test_results: 30  # 1 month in dev
  audit_logs: 90    # 3 months in dev
  build_logs: 30    # 1 month in dev
  deployment_logs: 90  # 3 months in dev

# Test Configuration
testing:
  coverage_threshold: 70  # Lower threshold for dev
  parallelism: 4
  retry_count: 2
  fail_fast: false

# Security Configuration
security:
  enable_scanning: true
  vulnerability_severity: "CRITICAL,HIGH,MEDIUM"  # Include medium in dev
  secret_scanning: true
  dependency_check: true

# Notification Configuration
notifications:
  slack_webhook: "${SLACK_DEV_WEBHOOK}"
  email_on_failure: "devops+dev@hht-diary.com"

# Sponsors
sponsors:
  - callisto
  - core