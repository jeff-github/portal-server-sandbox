<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Requirements Traceability Matrix</title>
    <style>
        body {
            font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            font-size: 13px;
            line-height: 1.4;
            margin: 15px;
            background: #f8f9fa;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 6px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }
        h1 {
            font-size: 20px;
            font-weight: 600;
            color: #2c3e50;
            border-bottom: 2px solid #0066cc;
            padding-bottom: 8px;
            margin: 0 0 15px 0;
        }
        h2 {
            font-size: 16px;
            font-weight: 600;
            color: #34495e;
            margin: 20px 0 10px 0;
        }
        .summary {
            background: #f8f9fa;
            padding: 10px 15px;
            border-radius: 4px;
            margin: 15px 0;
            font-size: 12px;
        }
        .summary p {
            margin: 4px 0;
        }
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 15px 0;
        }
        .summary-card {
            background: white;
            padding: 10px;
            border-radius: 4px;
            text-align: center;
            border-left: 3px solid #0066cc;
        }
        .summary-card h3 {
            margin: 0 0 6px 0;
            color: #7f8c8d;
            font-size: 11px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .summary-card .number {
            font-size: 24px;
            font-weight: 600;
            color: #0066cc;
        }
        .controls {
            margin: 15px 0;
            padding: 10px;
            background: #e9ecef;
            border-radius: 4px;
            display: flex;
            gap: 8px;
            align-items: center;
        }
        .btn {
            padding: 6px 12px;
            border: none;
            border-radius: 3px;
            background: #0066cc;
            color: white;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            transition: background 0.15s;
        }
        .btn:hover {
            background: #0052a3;
        }
        .btn-secondary {
            background: #6c757d;
        }
        .btn-secondary:hover {
            background: #5a6268;
        }
        .req-tree {
            margin: 15px 0;
        }
        .req-item {
            margin: 2px 0;
            background: #ffffff;
            border-left: 3px solid #28a745;
            overflow: hidden;
        }
        .req-item.prd { border-left-color: #0066cc; }
        .req-item.ops { border-left-color: #fd7e14; }
        .req-item.dev { border-left-color: #28a745; }
        .req-item.deprecated { opacity: 0.6; }
        .req-header-container {
            padding: 6px 10px;
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .req-header-container:hover {
            background: #f8f9fa;
        }
        .collapse-icon {
            font-size: 10px;
            color: #6c757d;
            transition: transform 0.15s;
            flex-shrink: 0;
            width: 12px;
            text-align: center;
        }
        .collapse-icon.collapsed {
            transform: rotate(-90deg);
        }
        .req-content {
            flex: 1;
            display: grid;
            grid-template-columns: 130px 1fr 60px 90px 60px 180px;
            align-items: center;
            gap: 12px;
            min-width: 0;
        }
        .req-id {
            font-weight: 600;
            color: #0066cc;
            font-size: 12px;
            font-family: 'Consolas', 'Monaco', monospace;
        }
        .req-header {
            font-weight: 500;
            color: #2c3e50;
            font-size: 13px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .req-level {
            font-size: 11px;
            color: #7f8c8d;
            text-align: center;
        }
        .req-badges {
            display: flex;
            gap: 4px;
            align-items: center;
        }
        .req-status {
            font-size: 11px;
            color: #7f8c8d;
            text-align: center;
        }
        .req-location {
            font-size: 11px;
            color: #7f8c8d;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .status-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 2px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }
        .status-active { background: #d4edda; color: #155724; }
        .status-draft { background: #fff3cd; color: #856404; }
        .status-deprecated { background: #f8d7da; color: #721c24; }
        .test-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 2px;
            font-size: 10px;
            font-weight: 600;
        }
        .test-passed { background: #d4edda; color: #155724; }
        .test-failed { background: #f8d7da; color: #721c24; }
        .test-not-tested { background: #fff3cd; color: #856404; }
        .test-error { background: #f5c2c7; color: #842029; }
        .test-skipped { background: #e2e3e5; color: #41464b; }
        .child-reqs {
            margin-left: 20px;
            border-left: 1px solid #dee2e6;
            padding-left: 10px;
            display: none;
        }
        .child-reqs.expanded {
            display: block;
        }
        .filter-header {
            display: grid;
            grid-template-columns: 130px 1fr 60px 90px 60px 180px;
            align-items: center;
            gap: 12px;
            padding: 8px 10px 8px 42px;
            background: #e9ecef;
            border-bottom: 2px solid #dee2e6;
            margin-bottom: 8px;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        .filter-column {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        .filter-label {
            font-size: 10px;
            font-weight: 600;
            color: #495057;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .filter-column input, .filter-column select {
            padding: 3px 6px;
            border: 1px solid #ced4da;
            border-radius: 2px;
            font-size: 11px;
            background: white;
            width: 100%;
            box-sizing: border-box;
        }
        .filter-column input::placeholder {
            color: #adb5bd;
            font-size: 10px;
        }
        .filter-controls {
            margin: 15px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 4px;
            display: flex;
            gap: 10px;
            align-items: center;
        }
        .filter-stats {
            margin-left: auto;
            font-size: 11px;
            color: #6c757d;
            font-weight: 500;
        }
        .req-item.filtered-out {
            display: none !important;
        }
        .level-legend {
            display: flex;
            gap: 15px;
            margin: 15px 0;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 4px;
            font-size: 12px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 2px;
        }
        .legend-color.prd { background: #0066cc; }
        .legend-color.ops { background: #fd7e14; }
        .legend-color.dev { background: #28a745; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Requirements Traceability Matrix</h1>
        <div class="summary">
            <p><strong>Generated:</strong> 2025-10-25 18:02:34</p>
            <p><strong>Total Requirements:</strong> 39</p>
        </div>

        <div class="summary-grid">
            <div class="summary-card">
                <h3>PRD Level</h3>
                <div class="number">18</div>
            </div>
            <div class="summary-card">
                <h3>Ops Level</h3>
                <div class="number">0</div>
            </div>
            <div class="summary-card">
                <h3>Dev Level</h3>
                <div class="number">0</div>
            </div>
        </div>

        <div class="level-legend">
            <div class="legend-item">
                <div class="legend-color prd"></div>
                <span>PRD (Product Requirements)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color ops"></div>
                <span>Ops (Operations)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color dev"></div>
                <span>Dev (Development)</span>
            </div>
        </div>

        <div class="filter-controls">
            <button class="btn" onclick="expandAll()">▼ Expand All</button>
            <button class="btn btn-secondary" onclick="collapseAll()">▶ Collapse All</button>
            <button class="btn btn-secondary" onclick="clearFilters()">Clear Filters</button>
            <span class="filter-stats" id="filterStats"></span>
        </div>

        <h2>Traceability Tree</h2>

        <div class="filter-header">
            <div class="filter-column">
                <div class="filter-label">REQ ID</div>
                <input type="text" id="filterReqId" placeholder="Filter..." oninput="applyFilters()">
            </div>
            <div class="filter-column">
                <div class="filter-label">Title</div>
                <input type="text" id="filterTitle" placeholder="Search title..." oninput="applyFilters()">
            </div>
            <div class="filter-column">
                <div class="filter-label">Level</div>
                <select id="filterLevel" onchange="applyFilters()">
                    <option value="">All</option>
                    <option value="PRD">PRD</option>
                    <option value="OPS">OPS</option>
                    <option value="DEV">DEV</option>
                </select>
            </div>
            <div class="filter-column">
                <div class="filter-label">Status</div>
                <select id="filterStatus" onchange="applyFilters()">
                    <option value="">All</option>
                    <option value="Active">Active</option>
                    <option value="Draft">Draft</option>
                    <option value="Deprecated">Deprecated</option>
                </select>
            </div>
            <div class="filter-column">
                <div class="filter-label">Tests</div>
            </div>
            <div class="filter-column">
                <div class="filter-label">Topic</div>
                <select id="filterTopic" onchange="applyFilters()">
                    <option value="">All</option>
                    <option value="app">app</option>
                    <option value="architecture-multi-sponsor">architecture-multi-sponsor</option>
                    <option value="clinical-trials">clinical-trials</option>
                    <option value="configuration">configuration</option>
                    <option value="database">database</option>
                    <option value="database-event-sourcing">database-event-sourcing</option>
                    <option value="database-setup">database-setup</option>
                    <option value="deployment">deployment</option>
                    <option value="operations">operations</option>
                    <option value="security">security</option>
                    <option value="security-RBAC">security-RBAC</option>
                    <option value="security-RLS">security-RLS</option>
                    <option value="security-authentication">security-authentication</option>
                    <option value="security-data-classification">security-data-classification</option>
                </select>
            </div>
        </div>

        <div class="req-tree" id="reqTree">

        <div class="req-item prd " data-req-id="p00001" data-level="PRD" data-topic="security" data-status="Active" data-title="complete multi-sponsor data separation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00001</div>
                    <div class="req-header">Complete Multi-Sponsor Data Separation</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-security.md:32</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00001" data-level="OPS" data-topic="deployment" data-status="Active" data-title="separate supabase projects per sponsor">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00001</div>
                    <div class="req-header">Separate Supabase Projects Per Sponsor</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-deployment.md:320</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00001" data-level="DEV" data-topic="configuration" data-status="Active" data-title="sponsor-specific configuration loading">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00001</div>
                    <div class="req-header">Sponsor-Specific Configuration Loading</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-configuration.md:28</div>
                </div>
            </div>
        </div>

        <div class="req-item ops " data-req-id="o00003" data-level="OPS" data-topic="database-setup" data-status="Active" data-title="supabase project provisioning per sponsor">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00003</div>
                    <div class="req-header">Supabase Project Provisioning Per Sponsor</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-database-setup.md:57</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00003" data-level="DEV" data-topic="security" data-status="Active" data-title="supabase auth configuration per sponsor">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00003</div>
                    <div class="req-header">Supabase Auth Configuration Per Sponsor</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:84</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item ops " data-req-id="o00002" data-level="OPS" data-topic="deployment" data-status="Active" data-title="environment-specific configuration management">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00002</div>
                    <div class="req-header">Environment-Specific Configuration Management</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-deployment.md:344</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00001" data-level="DEV" data-topic="configuration" data-status="Active" data-title="sponsor-specific configuration loading">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00001</div>
                    <div class="req-header">Sponsor-Specific Configuration Loading</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-configuration.md:28</div>
                </div>
            </div>
        </div>

        <div class="req-item dev " data-req-id="d00002" data-level="DEV" data-topic="configuration" data-status="Active" data-title="pre-build configuration validation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00002</div>
                    <div class="req-header">Pre-Build Configuration Validation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-configuration.md:185</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00003" data-level="PRD" data-topic="database" data-status="Active" data-title="separate database per sponsor">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00003</div>
                    <div class="req-header">Separate Database Per Sponsor</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-database.md:88</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00003" data-level="OPS" data-topic="database-setup" data-status="Active" data-title="supabase project provisioning per sponsor">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00003</div>
                    <div class="req-header">Supabase Project Provisioning Per Sponsor</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-database-setup.md:57</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00003" data-level="DEV" data-topic="security" data-status="Active" data-title="supabase auth configuration per sponsor">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00003</div>
                    <div class="req-header">Supabase Auth Configuration Per Sponsor</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:84</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item ops " data-req-id="o00004" data-level="OPS" data-topic="database-setup" data-status="Active" data-title="database schema deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00004</div>
                    <div class="req-header">Database Schema Deployment</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-database-setup.md:128</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00007" data-level="DEV" data-topic="database" data-status="Active" data-title="database schema implementation and deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00007</div>
                    <div class="req-header">Database Schema Implementation and Deployment</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-database.md:90</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00007" data-level="PRD" data-topic="app" data-status="Active" data-title="automatic sponsor configuration">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00007</div>
                    <div class="req-header">Automatic Sponsor Configuration</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-app.md:29</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00005" data-level="DEV" data-topic="app" data-status="Active" data-title="sponsor configuration detection implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00005</div>
                    <div class="req-header">Sponsor Configuration Detection Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-app.md:38</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00008" data-level="PRD" data-topic="architecture-multi-sponsor" data-status="Active" data-title="single mobile app for all sponsors">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00008</div>
                    <div class="req-header">Single Mobile App for All Sponsors</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-architecture-multi-sponsor.md:36</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00005" data-level="DEV" data-topic="app" data-status="Active" data-title="sponsor configuration detection implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00005</div>
                    <div class="req-header">Sponsor Configuration Detection Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-app.md:38</div>
                </div>
            </div>
        </div>

        <div class="req-item ops " data-req-id="o00010" data-level="OPS" data-topic="deployment" data-status="Active" data-title="mobile app release process">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00010</div>
                    <div class="req-header">Mobile App Release Process</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-deployment.md:604</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00006" data-level="DEV" data-topic="app" data-status="Active" data-title="mobile app build and release process">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00006</div>
                    <div class="req-header">Mobile App Build and Release Process</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-app.md:239</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00009" data-level="PRD" data-topic="architecture-multi-sponsor" data-status="Active" data-title="sponsor-specific web portals">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00009</div>
                    <div class="req-header">Sponsor-Specific Web Portals</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-architecture-multi-sponsor.md:60</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00009" data-level="OPS" data-topic="deployment" data-status="Active" data-title="portal deployment per sponsor">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-o00009</div>
                    <div class="req-header">Portal Deployment Per Sponsor</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-deployment.md:811</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00002" data-level="PRD" data-topic="security" data-status="Active" data-title="multi-factor authentication for staff">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00002</div>
                    <div class="req-header">Multi-Factor Authentication for Staff</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-security.md:73</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00003" data-level="DEV" data-topic="security" data-status="Active" data-title="supabase auth configuration per sponsor">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00003</div>
                    <div class="req-header">Supabase Auth Configuration Per Sponsor</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:84</div>
                </div>
            </div>
        </div>

        <div class="req-item ops " data-req-id="o00006" data-level="OPS" data-topic="security-authentication" data-status="Active" data-title="mfa configuration for staff accounts">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00006</div>
                    <div class="req-header">MFA Configuration for Staff Accounts</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-security-authentication.md:6</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00008" data-level="DEV" data-topic="security" data-status="Active" data-title="mfa enrollment and verification implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00008</div>
                    <div class="req-header">MFA Enrollment and Verification Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:154</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00003" data-level="PRD" data-topic="database" data-status="Active" data-title="separate database per sponsor">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00003</div>
                    <div class="req-header">Separate Database Per Sponsor</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-database.md:88</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00003" data-level="OPS" data-topic="database-setup" data-status="Active" data-title="supabase project provisioning per sponsor">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00003</div>
                    <div class="req-header">Supabase Project Provisioning Per Sponsor</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-database-setup.md:57</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00003" data-level="DEV" data-topic="security" data-status="Active" data-title="supabase auth configuration per sponsor">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00003</div>
                    <div class="req-header">Supabase Auth Configuration Per Sponsor</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:84</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item ops " data-req-id="o00004" data-level="OPS" data-topic="database-setup" data-status="Active" data-title="database schema deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00004</div>
                    <div class="req-header">Database Schema Deployment</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-database-setup.md:128</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00007" data-level="DEV" data-topic="database" data-status="Active" data-title="database schema implementation and deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00007</div>
                    <div class="req-header">Database Schema Implementation and Deployment</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-database.md:90</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00004" data-level="PRD" data-topic="database-event-sourcing" data-status="Active" data-title="immutable audit trail via event sourcing">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00004</div>
                    <div class="req-header">Immutable Audit Trail via Event Sourcing</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-database-event-sourcing.md:74</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00004" data-level="OPS" data-topic="database-setup" data-status="Active" data-title="database schema deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00004</div>
                    <div class="req-header">Database Schema Deployment</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-database-setup.md:128</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00007" data-level="DEV" data-topic="database" data-status="Active" data-title="database schema implementation and deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00007</div>
                    <div class="req-header">Database Schema Implementation and Deployment</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-database.md:90</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00013" data-level="PRD" data-topic="database" data-status="Active" data-title="complete data change history">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00013</div>
                    <div class="req-header">Complete Data Change History</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-database.md:40</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00004" data-level="OPS" data-topic="database-setup" data-status="Active" data-title="database schema deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00004</div>
                    <div class="req-header">Database Schema Deployment</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-database-setup.md:128</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00007" data-level="DEV" data-topic="database" data-status="Active" data-title="database schema implementation and deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00007</div>
                    <div class="req-header">Database Schema Implementation and Deployment</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-database.md:90</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00005" data-level="PRD" data-topic="security-RBAC" data-status="Active" data-title="role-based access control">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00005</div>
                    <div class="req-header">Role-Based Access Control</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-security-RBAC.md:36</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00007" data-level="OPS" data-topic="security" data-status="Active" data-title="role-based permission configuration">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00007</div>
                    <div class="req-header">Role-Based Permission Configuration</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-security.md:125</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00009" data-level="DEV" data-topic="security" data-status="Active" data-title="role-based permission enforcement implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00009</div>
                    <div class="req-header">Role-Based Permission Enforcement Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:220</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00014" data-level="PRD" data-topic="security-RBAC" data-status="Active" data-title="least privilege access">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00014</div>
                    <div class="req-header">Least Privilege Access</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-security-RBAC.md:60</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00007" data-level="OPS" data-topic="security" data-status="Active" data-title="role-based permission configuration">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00007</div>
                    <div class="req-header">Role-Based Permission Configuration</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-security.md:125</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00009" data-level="DEV" data-topic="security" data-status="Active" data-title="role-based permission enforcement implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00009</div>
                    <div class="req-header">Role-Based Permission Enforcement Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:220</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00015" data-level="PRD" data-topic="security-RLS" data-status="Active" data-title="database-level access enforcement">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00015</div>
                    <div class="req-header">Database-Level Access Enforcement</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-security-RLS.md:56</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00007" data-level="OPS" data-topic="security" data-status="Active" data-title="role-based permission configuration">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00007</div>
                    <div class="req-header">Role-Based Permission Configuration</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-security.md:125</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00009" data-level="DEV" data-topic="security" data-status="Active" data-title="role-based permission enforcement implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00009</div>
                    <div class="req-header">Role-Based Permission Enforcement Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:220</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00015" data-level="PRD" data-topic="security-RLS" data-status="Active" data-title="database-level access enforcement">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00015</div>
                    <div class="req-header">Database-Level Access Enforcement</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-security-RLS.md:56</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00007" data-level="OPS" data-topic="security" data-status="Active" data-title="role-based permission configuration">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00007</div>
                    <div class="req-header">Role-Based Permission Configuration</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-security.md:125</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00009" data-level="DEV" data-topic="security" data-status="Active" data-title="role-based permission enforcement implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00009</div>
                    <div class="req-header">Role-Based Permission Enforcement Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:220</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00006" data-level="PRD" data-topic="app" data-status="Active" data-title="offline-first data entry">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00006</div>
                    <div class="req-header">Offline-First Data Entry</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-app.md:87</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00004" data-level="DEV" data-topic="app" data-status="Active" data-title="local-first data entry implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00004</div>
                    <div class="req-header">Local-First Data Entry Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-app.md:107</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00007" data-level="PRD" data-topic="app" data-status="Active" data-title="automatic sponsor configuration">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00007</div>
                    <div class="req-header">Automatic Sponsor Configuration</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-app.md:29</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00005" data-level="DEV" data-topic="app" data-status="Active" data-title="sponsor configuration detection implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00005</div>
                    <div class="req-header">Sponsor Configuration Detection Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-app.md:38</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00008" data-level="PRD" data-topic="architecture-multi-sponsor" data-status="Active" data-title="single mobile app for all sponsors">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00008</div>
                    <div class="req-header">Single Mobile App for All Sponsors</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-architecture-multi-sponsor.md:36</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00005" data-level="DEV" data-topic="app" data-status="Active" data-title="sponsor configuration detection implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00005</div>
                    <div class="req-header">Sponsor Configuration Detection Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-app.md:38</div>
                </div>
            </div>
        </div>

        <div class="req-item ops " data-req-id="o00010" data-level="OPS" data-topic="deployment" data-status="Active" data-title="mobile app release process">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00010</div>
                    <div class="req-header">Mobile App Release Process</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-deployment.md:604</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00006" data-level="DEV" data-topic="app" data-status="Active" data-title="mobile app build and release process">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00006</div>
                    <div class="req-header">Mobile App Build and Release Process</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-app.md:239</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00009" data-level="PRD" data-topic="architecture-multi-sponsor" data-status="Active" data-title="sponsor-specific web portals">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00009</div>
                    <div class="req-header">Sponsor-Specific Web Portals</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-architecture-multi-sponsor.md:60</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00009" data-level="OPS" data-topic="deployment" data-status="Active" data-title="portal deployment per sponsor">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-o00009</div>
                    <div class="req-header">Portal Deployment Per Sponsor</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-deployment.md:811</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00010" data-level="PRD" data-topic="clinical-trials" data-status="Active" data-title="fda 21 cfr part 11 compliance">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00010</div>
                    <div class="req-header">FDA 21 CFR Part 11 Compliance</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-clinical-trials.md:47</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item prd " data-req-id="p00011" data-level="PRD" data-topic="clinical-trials" data-status="Active" data-title="alcoa+ data integrity principles">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00011</div>
                    <div class="req-header">ALCOA+ Data Integrity Principles</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-clinical-trials.md:74</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item prd " data-req-id="p00013" data-level="PRD" data-topic="database" data-status="Active" data-title="complete data change history">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00013</div>
                    <div class="req-header">Complete Data Change History</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-database.md:40</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00004" data-level="OPS" data-topic="database-setup" data-status="Active" data-title="database schema deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00004</div>
                    <div class="req-header">Database Schema Deployment</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-database-setup.md:128</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00007" data-level="DEV" data-topic="database" data-status="Active" data-title="database schema implementation and deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00007</div>
                    <div class="req-header">Database Schema Implementation and Deployment</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-database.md:90</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00012" data-level="PRD" data-topic="clinical-trials" data-status="Active" data-title="clinical data retention requirements">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00012</div>
                    <div class="req-header">Clinical Data Retention Requirements</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-clinical-trials.md:102</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00008" data-level="OPS" data-topic="operations" data-status="Active" data-title="backup and retention policy">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-o00008</div>
                    <div class="req-header">Backup and Retention Policy</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-operations.md:853</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00013" data-level="PRD" data-topic="database" data-status="Active" data-title="complete data change history">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00013</div>
                    <div class="req-header">Complete Data Change History</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-database.md:40</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00004" data-level="OPS" data-topic="database-setup" data-status="Active" data-title="database schema deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00004</div>
                    <div class="req-header">Database Schema Deployment</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-database-setup.md:128</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00007" data-level="DEV" data-topic="database" data-status="Active" data-title="database schema implementation and deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00007</div>
                    <div class="req-header">Database Schema Implementation and Deployment</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-database.md:90</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00014" data-level="PRD" data-topic="security-RBAC" data-status="Active" data-title="least privilege access">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00014</div>
                    <div class="req-header">Least Privilege Access</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-security-RBAC.md:60</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00007" data-level="OPS" data-topic="security" data-status="Active" data-title="role-based permission configuration">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00007</div>
                    <div class="req-header">Role-Based Permission Configuration</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-security.md:125</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00009" data-level="DEV" data-topic="security" data-status="Active" data-title="role-based permission enforcement implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00009</div>
                    <div class="req-header">Role-Based Permission Enforcement Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:220</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00015" data-level="PRD" data-topic="security-RLS" data-status="Active" data-title="database-level access enforcement">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00015</div>
                    <div class="req-header">Database-Level Access Enforcement</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-security-RLS.md:56</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00007" data-level="OPS" data-topic="security" data-status="Active" data-title="role-based permission configuration">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00007</div>
                    <div class="req-header">Role-Based Permission Configuration</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-security.md:125</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00009" data-level="DEV" data-topic="security" data-status="Active" data-title="role-based permission enforcement implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00009</div>
                    <div class="req-header">Role-Based Permission Enforcement Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:220</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00011" data-level="PRD" data-topic="clinical-trials" data-status="Active" data-title="alcoa+ data integrity principles">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00011</div>
                    <div class="req-header">ALCOA+ Data Integrity Principles</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-clinical-trials.md:74</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item prd " data-req-id="p00013" data-level="PRD" data-topic="database" data-status="Active" data-title="complete data change history">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00013</div>
                    <div class="req-header">Complete Data Change History</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-database.md:40</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00004" data-level="OPS" data-topic="database-setup" data-status="Active" data-title="database schema deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00004</div>
                    <div class="req-header">Database Schema Deployment</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-database-setup.md:128</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00007" data-level="DEV" data-topic="database" data-status="Active" data-title="database schema implementation and deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00007</div>
                    <div class="req-header">Database Schema Implementation and Deployment</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-database.md:90</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00012" data-level="PRD" data-topic="clinical-trials" data-status="Active" data-title="clinical data retention requirements">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00012</div>
                    <div class="req-header">Clinical Data Retention Requirements</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-clinical-trials.md:102</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00008" data-level="OPS" data-topic="operations" data-status="Active" data-title="backup and retention policy">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-o00008</div>
                    <div class="req-header">Backup and Retention Policy</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-operations.md:853</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00013" data-level="PRD" data-topic="database" data-status="Active" data-title="complete data change history">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00013</div>
                    <div class="req-header">Complete Data Change History</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-database.md:40</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00004" data-level="OPS" data-topic="database-setup" data-status="Active" data-title="database schema deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00004</div>
                    <div class="req-header">Database Schema Deployment</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-database-setup.md:128</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00007" data-level="DEV" data-topic="database" data-status="Active" data-title="database schema implementation and deployment">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00007</div>
                    <div class="req-header">Database Schema Implementation and Deployment</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-database.md:90</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00014" data-level="PRD" data-topic="security-RBAC" data-status="Active" data-title="least privilege access">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00014</div>
                    <div class="req-header">Least Privilege Access</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-security-RBAC.md:60</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00007" data-level="OPS" data-topic="security" data-status="Active" data-title="role-based permission configuration">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00007</div>
                    <div class="req-header">Role-Based Permission Configuration</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-security.md:125</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00009" data-level="DEV" data-topic="security" data-status="Active" data-title="role-based permission enforcement implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00009</div>
                    <div class="req-header">Role-Based Permission Enforcement Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:220</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00015" data-level="PRD" data-topic="security-RLS" data-status="Active" data-title="database-level access enforcement">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00015</div>
                    <div class="req-header">Database-Level Access Enforcement</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-security-RLS.md:56</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00007" data-level="OPS" data-topic="security" data-status="Active" data-title="role-based permission configuration">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00007</div>
                    <div class="req-header">Role-Based Permission Configuration</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-security.md:125</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00009" data-level="DEV" data-topic="security" data-status="Active" data-title="role-based permission enforcement implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00009</div>
                    <div class="req-header">Role-Based Permission Enforcement Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:220</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00015" data-level="PRD" data-topic="security-RLS" data-status="Active" data-title="database-level access enforcement">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00015</div>
                    <div class="req-header">Database-Level Access Enforcement</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-security-RLS.md:56</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00007" data-level="OPS" data-topic="security" data-status="Active" data-title="role-based permission configuration">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00007</div>
                    <div class="req-header">Role-Based Permission Configuration</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-security.md:125</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00009" data-level="DEV" data-topic="security" data-status="Active" data-title="role-based permission enforcement implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00009</div>
                    <div class="req-header">Role-Based Permission Enforcement Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:220</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00016" data-level="PRD" data-topic="security-data-classification" data-status="Active" data-title="separation of identity and clinical data">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00016</div>
                    <div class="req-header">Separation of Identity and Clinical Data</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-security-data-classification.md:57</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item prd " data-req-id="p00017" data-level="PRD" data-topic="security-data-classification" data-status="Active" data-title="data encryption">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00017</div>
                    <div class="req-header">Data Encryption</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-security-data-classification.md:81</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00010" data-level="DEV" data-topic="security" data-status="Active" data-title="data encryption implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00010</div>
                    <div class="req-header">Data Encryption Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:694</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00017" data-level="PRD" data-topic="security-data-classification" data-status="Active" data-title="data encryption">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00017</div>
                    <div class="req-header">Data Encryption</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-security-data-classification.md:81</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00010" data-level="DEV" data-topic="security" data-status="Active" data-title="data encryption implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00010</div>
                    <div class="req-header">Data Encryption Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-security.md:694</div>
                </div>
            </div>
        </div>
            </div>
        </div>

        <div class="req-item prd " data-req-id="p00018" data-level="PRD" data-topic="architecture-multi-sponsor" data-status="Active" data-title="multi-site support per sponsor">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-p00018</div>
                    <div class="req-header">Multi-Site Support Per Sponsor</div>
                    <div class="req-level">PRD</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">prd-architecture-multi-sponsor.md:110</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item ops " data-req-id="o00011" data-level="OPS" data-topic="database-setup" data-status="Active" data-title="multi-site data configuration per sponsor">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon">▼</span>
                <div class="req-content">
                    <div class="req-id">REQ-o00011</div>
                    <div class="req-header">Multi-Site Data Configuration Per Sponsor</div>
                    <div class="req-level">OPS</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">ops-database-setup.md:153</div>
                </div>
            </div>
            <div class="child-reqs">

        <div class="req-item dev " data-req-id="d00011" data-level="DEV" data-topic="database" data-status="Active" data-title="multi-site schema implementation">
            <div class="req-header-container" onclick="toggleRequirement(this)">
                <span class="collapse-icon"></span>
                <div class="req-content">
                    <div class="req-id">REQ-d00011</div>
                    <div class="req-header">Multi-Site Schema Implementation</div>
                    <div class="req-level">DEV</div>
                    <div class="req-badges">
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="req-status"><span class="test-badge test-not-tested" title="No tests implemented">⚡</span></div>
                    <div class="req-location">dev-database.md:116</div>
                </div>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>
        </div>
    </div>

    <script>
        // Toggle a single requirement's children
        function toggleRequirement(element) {
            const childReqs = element.nextElementSibling;
            const icon = element.querySelector('.collapse-icon');

            if (childReqs && childReqs.classList.contains('child-reqs')) {
                childReqs.classList.toggle('expanded');
                icon.classList.toggle('collapsed');
            }
        }

        // Expand all requirements
        function expandAll() {
            document.querySelectorAll('.child-reqs').forEach(el => {
                el.classList.add('expanded');
            });
            document.querySelectorAll('.collapse-icon').forEach(el => {
                el.classList.remove('collapsed');
            });
        }

        // Collapse all requirements
        function collapseAll() {
            document.querySelectorAll('.child-reqs').forEach(el => {
                el.classList.remove('expanded');
            });
            document.querySelectorAll('.collapse-icon').forEach(el => {
                el.classList.add('collapsed');
            });
        }

        // Apply filters
        function applyFilters() {
            const reqIdFilter = document.getElementById('filterReqId').value.toLowerCase().trim();
            const titleFilter = document.getElementById('filterTitle').value.toLowerCase().trim();
            const levelFilter = document.getElementById('filterLevel').value;
            const statusFilter = document.getElementById('filterStatus').value;
            const topicFilter = document.getElementById('filterTopic').value.toLowerCase().trim();

            let visibleCount = 0;
            let totalCount = 0;

            // First pass: determine which items match the filter
            const matchedItems = new Set();

            document.querySelectorAll('.req-item').forEach(item => {
                totalCount++;
                const reqId = item.dataset.reqId.toLowerCase();
                const level = item.dataset.level;
                const topic = item.dataset.topic.toLowerCase();
                const status = item.dataset.status;
                const title = item.dataset.title.toLowerCase();

                let matches = true;

                // REQ ID filter
                if (reqIdFilter && !reqId.includes(reqIdFilter)) {
                    matches = false;
                }

                // Title filter (searches in title text)
                if (titleFilter && !title.includes(titleFilter)) {
                    matches = false;
                }

                // Level filter
                if (levelFilter && level !== levelFilter) {
                    matches = false;
                }

                // Status filter
                if (statusFilter && status !== statusFilter) {
                    matches = false;
                }

                // Topic filter (matches topic and sub-topics)
                // e.g., "security" matches "security", "security-RBAC", "security-RLS", etc.
                if (topicFilter && topic !== topicFilter && !topic.startsWith(topicFilter + '-')) {
                    matches = false;
                }

                if (matches) {
                    matchedItems.add(item);
                }
            });

            // Second pass: show matched items and their ancestors
            document.querySelectorAll('.req-item').forEach(item => {
                if (matchedItems.has(item)) {
                    // This item matches - show it and all ancestors
                    item.classList.remove('filtered-out');
                    visibleCount++;

                    // Show all ancestor req-items
                    let parent = item.parentElement;
                    while (parent) {
                        if (parent.classList && parent.classList.contains('req-item')) {
                            parent.classList.remove('filtered-out');
                        }
                        parent = parent.parentElement;
                    }
                } else {
                    // Check if any descendant matches
                    const hasMatchingDescendant = item.querySelectorAll('.req-item').length > 0 &&
                        Array.from(item.querySelectorAll('.req-item')).some(child => matchedItems.has(child));

                    if (hasMatchingDescendant) {
                        // Keep this item visible to show hierarchy
                        item.classList.remove('filtered-out');
                    } else {
                        // No match and no matching descendants
                        item.classList.add('filtered-out');
                    }
                }
            });

            // Update stats
            document.getElementById('filterStats').textContent =
                `Showing ${visibleCount} of ${totalCount} requirements`;
        }

        // Clear all filters
        function clearFilters() {
            document.getElementById('filterReqId').value = '';
            document.getElementById('filterTitle').value = '';
            document.getElementById('filterLevel').value = '';
            document.getElementById('filterStatus').value = '';
            document.getElementById('filterTopic').value = '';
            applyFilters();
        }

        // Initialize with top-level expanded
        document.addEventListener('DOMContentLoaded', function() {
            // Expand only top-level (PRD) requirements by default
            document.querySelectorAll('.req-tree > .req-item > .child-reqs').forEach(el => {
                el.classList.add('expanded');
            });
            document.querySelectorAll('.req-tree > .req-item .collapse-icon').forEach(el => {
                el.classList.remove('collapsed');
            });

            // Initialize filter stats
            applyFilters();
        });
    </script>
</body>
</html>
