<?xml version="1.0" encoding="UTF-8"?>
<!--
  TEMPLATE FILE - NOT ACTUAL TEST RESULTS

  This file shows the expected JUnit XML format for test results.
  Actual test results are generated to:
    build-reports/{sponsor}/test-results/junit/latest.xml

  Generated by CI/CD pipeline during test execution.
-->
<testsuites name="Clinical Trial Diary Tests" tests="15" failures="2" errors="1" skipped="1" time="23.456">

  <!-- Example: Database Tests Suite -->
  <testsuite name="DatabaseTests" tests="5" failures="1" errors="0" skipped="0" time="12.345" timestamp="2025-10-25T17:30:00Z">

    <!-- Example: Passing test -->
    <testcase classname="DatabaseTests" name="test_separate_database_per_sponsor" time="0.523">
      <!-- No failure element = test passed -->
    </testcase>

    <!-- Example: Another passing test -->
    <testcase classname="DatabaseTests" name="test_no_cross_sponsor_queries" time="0.812">
      <!-- Test passed -->
    </testcase>

    <!-- Example: Failing test -->
    <testcase classname="DatabaseTests" name="test_audit_trail_immutability" time="1.234">
      <failure message="Audit record was modified" type="AssertionError">
Expected audit record to be immutable, but UPDATE succeeded.
This violates REQ-p00004: Immutable Audit Trail via Event Sourcing.

Stack trace:
  File "database/tests/test_audit_trail.sql", line 42
  </failure>
    </testcase>

    <!-- Example: Passing test with requirement marker -->
    <testcase classname="DatabaseTests" name="test_event_store_append_only" time="0.987">
      <!-- Implements REQ-p00004, REQ-p00013 -->
    </testcase>

    <!-- Example: Another passing test -->
    <testcase classname="DatabaseTests" name="test_rls_policies_enforced" time="1.567">
      <!-- Implements REQ-p00015 -->
    </testcase>

  </testsuite>

  <!-- Example: Security Tests Suite -->
  <testsuite name="SecurityTests" tests="4" failures="0" errors="1" skipped="0" time="5.678" timestamp="2025-10-25T17:30:00Z">

    <testcase classname="SecurityTests" name="test_mfa_enrollment" time="1.234">
      <!-- Test passed -->
    </testcase>

    <testcase classname="SecurityTests" name="test_rbac_permissions" time="0.890">
      <!-- Test passed -->
    </testcase>

    <!-- Example: Test with error (not failure) -->
    <testcase classname="SecurityTests" name="test_encryption_at_rest" time="0.456">
      <error message="Database connection refused" type="ConnectionError">
Unable to connect to test database.
This is an infrastructure error, not a test failure.

Stack trace:
  File "tests/test_security.py", line 123
  </error>
    </testcase>

    <testcase classname="SecurityTests" name="test_password_complexity" time="0.678">
      <!-- Test passed -->
    </testcase>

  </testsuite>

  <!-- Example: Configuration Tests Suite -->
  <testsuite name="ConfigurationTests" tests="3" failures="0" errors="0" skipped="1" time="2.890" timestamp="2025-10-25T17:30:00Z">

    <testcase classname="ConfigurationTests" name="test_sponsor_config_loading" time="0.234">
      <!-- Test passed -->
    </testcase>

    <!-- Example: Skipped test -->
    <testcase classname="ConfigurationTests" name="test_multi_site_configuration" time="0.000">
      <skipped message="Feature not yet implemented">
Multi-site support is scheduled for next sprint.
Skipping tests until REQ-p00018 implementation is complete.
      </skipped>
    </testcase>

    <testcase classname="ConfigurationTests" name="test_environment_variable_validation" time="0.567">
      <!-- Test passed -->
    </testcase>

  </testsuite>

  <!-- Example: Integration Tests Suite -->
  <testsuite name="IntegrationTests" tests="2" failures="1" errors="0" skipped="0" time="8.543" timestamp="2025-10-25T17:30:00Z">

    <testcase classname="IntegrationTests" name="test_end_to_end_data_entry" time="4.321">
      <!-- Test passed -->
    </testcase>

    <testcase classname="IntegrationTests" name="test_offline_sync_workflow" time="5.678">
      <failure message="Sync failed after reconnection" type="AssertionError">
Expected 5 records to sync, but only 3 were synchronized.
This affects REQ-p00006: Offline-First Data Entry.
      </failure>
    </testcase>

  </testsuite>

  <!-- Example: Compliance Tests Suite -->
  <testsuite name="ComplianceTests" tests="1" failures="0" errors="0" skipped="0" time="1.234" timestamp="2025-10-25T17:30:00Z">

    <testcase classname="ComplianceTests" name="test_21_cfr_part_11_audit_trail" time="1.234">
      <!-- Test passed - validates REQ-p00010 -->
    </testcase>

  </testsuite>

</testsuites>
