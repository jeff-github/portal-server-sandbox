{
  "_template": true,
  "_comment": "This is a TEMPLATE file showing the expected format for requirement-test mappings.",
  "_usage": "Actual mappings are generated to build-reports/{sponsor}/test-results/requirement_test_mapping.json",
  "_generation": "Run 'python3 tools/requirements/discover_test_mappings.py' to generate from code markers",
  "version": "1.0",
  "generated": "2025-10-25T17:30:00Z",
  "description": "Maps requirements to automated and manual tests",
  "mappings": {
    "p00001": {
      "_example": "This shows a requirement with actual tests (what your data should look like)",
      "requirement_id": "p00001",
      "requirement_title": "Complete Multi-Sponsor Data Separation",
      "tests": [
        {
          "test_id": "test_separate_database_per_sponsor",
          "test_name": "Test Separate Database Per Sponsor",
          "test_file": "tests/test_database_isolation.py",
          "test_suite": "DatabaseTests",
          "test_type": "integration"
        },
        {
          "test_id": "test_no_cross_sponsor_queries",
          "test_name": "Test No Cross-Sponsor Queries",
          "test_file": "tests/test_database_isolation.py",
          "test_suite": "DatabaseTests",
          "test_type": "integration"
        }
      ],
      "manual_tests": [
        {
          "test_id": "manual_001",
          "test_name": "Manual verification of database separation",
          "tester": "QA Team",
          "last_run": "2025-10-20",
          "status": "passed"
        }
      ],
      "coverage": "tested",
      "notes": "Full test coverage with 2 automated + 1 manual test"
    },
    "p00004": {
      "_example": "Another example with automated tests only",
      "requirement_id": "p00004",
      "requirement_title": "Immutable Audit Trail via Event Sourcing",
      "tests": [
        {
          "test_id": "test_audit_trail_immutability",
          "test_name": "Test Audit Trail Immutability",
          "test_file": "database/tests/test_audit_trail.sql",
          "test_suite": "DatabaseTests",
          "test_type": "database"
        },
        {
          "test_id": "test_event_store_append_only",
          "test_name": "Test Event Store is Append-Only",
          "test_file": "database/tests/test_event_store.sql",
          "test_suite": "DatabaseTests",
          "test_type": "database"
        }
      ],
      "manual_tests": [],
      "coverage": "tested",
      "notes": "Automated database-level tests verify immutability constraints"
    },
    "p00006": {
      "_example": "Example with manual tests only (no automation yet)",
      "requirement_id": "p00006",
      "requirement_title": "Offline-First Data Entry",
      "tests": [],
      "manual_tests": [
        {
          "test_id": "manual_002",
          "test_name": "Offline data entry verification",
          "tester": "QA Team",
          "last_run": "2025-10-22",
          "status": "passed",
          "notes": "Tested on Android with airplane mode enabled"
        }
      ],
      "coverage": "manual_only",
      "notes": "Awaiting automated UI tests for offline functionality"
    },
    "p00002": {
      "_example": "Example of untested requirement (empty arrays)",
      "requirement_id": "p00002",
      "requirement_title": "Multi-Factor Authentication for Staff",
      "tests": [],
      "manual_tests": [],
      "coverage": "not_tested",
      "notes": "No tests currently implemented - priority for next sprint"
    }
  },
  "summary": {
    "_comment": "Summary statistics are automatically calculated during generation",
    "total_requirements": 39,
    "tested_requirements": 3,
    "untested_requirements": 36,
    "coverage_percentage": 7.7,
    "breakdown": {
      "fully_tested": 2,
      "partially_tested": 1,
      "not_tested": 36
    }
  }
}
